âœ… I. ImportaciÃ³n/ExportaciÃ³n por QR (Intercambio entre cuentas o dispositivos)
ğŸ¯ Objetivo
Permitir compartir informaciÃ³n completa y estructurada (almacenes, materiales, unidades) entre cuentas o dispositivos usando cÃ³digos QR, tanto en PC como en mÃ³vil.

ğŸ§© QuÃ© debe hacer cada QR (segÃºn entidad):
1. ğŸ“¦ QR de un AlmacÃ©n
Contiene toda la estructura del almacÃ©n, incluyendo:

âœ… SoluciÃ³n esperada â€” puntos claros para implementaciÃ³n
1. ğŸ“¦ Estructura y lÃ³gica del movimiento âœ…
 Cada movimiento en historial debe contener:

ID Ãºnico del movimiento âœ…

Tipo de movimiento (creaciÃ³n, ediciÃ³n, entrada, salida, etc.) âœ…

Referencia al objeto afectado (unidadId, materialId, almacenId) âœ…

Snapshot o payload completo del contenido guardado âœ…

Archivos e imÃ¡genes si fueron subidos âœ…

Usuario que lo hizo y fecha de ejecuciÃ³n âœ…

2. ğŸ§  LÃ³gica al clickear un movimiento âœ…
 Crear una funciÃ³n handleClickMovimiento(movimientoId) que:


Su nombre, descripciÃ³n, propiedades

 Haga fetch a la base de datos (vÃ­a Prisma o API interna) del contenido asociado. âœ…

 Determine si es de tipo unidad, material, almacÃ©n, etc. âœ…

 Construya una estructura de solo lectura con la informaciÃ³n asociada. âœ…

 EnvÃ­e esta informaciÃ³n al panel de Forms en modo preview. âœ…

3. ğŸ–¼ï¸ RenderizaciÃ³n del panel de Forms en modo "previsualizaciÃ³n" âœ…
 El panel debe:

 Desactivarse para ediciÃ³n (modo "read-only"). âœ…

 Renderizar todos los campos guardados (descripciÃ³n, cantidades, propiedades numÃ©ricas). âœ…

 Renderizar correctamente imÃ¡genes y archivos subidos (PDFs, fotos, etc). âœ…

 Si el backup incluye unidadId, debe mostrar la estructura completa de esa unidad. âœ…

4. ğŸ” BotÃ³n de historial por campo âœ…
 Encima de cada campo mostrado, agregar un botÃ³n pequeÃ±o tipo Ã­cono (ğŸ•“).

Al escanearlo:

Ãšltimo usuario que modificÃ³ ese campo âœ…

Fecha exacta de la modificaciÃ³n âœ…

Valor anterior (si aplica) âœ…

5. âœ… Indicadores visuales âœ…
 Al seleccionar un movimiento:

 Resaltar la tarjeta activa en el historial. âœ…

 Cambiar el panel de Forms a modo preview. âœ…

 Mostrar un tÃ­tulo arriba: "Vista de respaldo del movimiento: [tipo] - [fecha]". âœ…

6. ğŸ§ª Validaciones y fallos âœ…
 Si el movimiento no tiene datos asociados (unidad eliminada o referenciada incorrectamente):

Mostrar mensaje: âŒ â€œEste movimiento no tiene datos disponibles.â€ âœ…

 Loggear errores de fetch o parseo con detalles para depuraciÃ³n. âœ…

7. ğŸ”„ Modularidad para otros tipos âœ…
 Esta lÃ³gica debe funcionar no solo con unidades, sino tambiÃ©n:

 Materiales âœ…

 Archivos del almacÃ©n âœ…

 TÃ­tulo del almacÃ©n âœ…

 Cambios en stock o entradas/salidas âœ…


Si no hay selecciÃ³n manual, se asume por contexto:

Si estÃ¡s en pantalla de salida â†’ se registra como salida

Si estÃ¡s en entrada â†’ como entrada, etc.

âœ… Una vez confirmada:

Se genera automÃ¡ticamente un registro en historial de movimientos, incluyendo:

Usuario

Fecha/hora

Tipo de movimiento

Unidad o material afectado

Observaciones (si aplica)

ğŸ’¡ Alternativa de funcionamiento automÃ¡tico
Para flujos mÃ¡s rÃ¡pidos:

 Permitir activar modo â€œautomÃ¡ticoâ€

En ese modo:

Cada escaneo de unidad â†’ se registra automÃ¡ticamente como entrada o salida, sin confirmaciÃ³n

Se muestra una breve notificaciÃ³n: â€œâœ… Movimiento registrado: Entrada de unidad Xâ€
