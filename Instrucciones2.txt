 No usar ningun comando Npx o comandos prisma, estos se haran manualmente, solo dejar en forma de texto en este domcumentos que comandos deben ejeucartarse de forma manual por el usuario.

âœ… FASE 0 â€” Objetivo general
Reemplazar completamente el sistema anterior de minijuegos y construir uno nuevo que permita:

Subir archivos ROM (.gba, .nes)

Guardarlos en base de datos

Jugar desde el navegador con emulaciÃ³n funcional

Todo embebido y oculto dentro de la pÃ¡gina /docs, accesible solo mediante un botÃ³n especial.

ğŸš® FASE 1 â€” EliminaciÃ³n del sistema anterior
ğŸ”§ Archivos a eliminar
src/app/docs/minijuegos/ â†’ eliminar carpeta completa si contiene cÃ³digo viejo. [completado]

src/app/docs/MinijuegoLoader.tsx â†’ eliminar archivo, serÃ¡ reemplazado. [completado]

Eliminar cualquier lÃ³gica antigua de minijuegos de page.tsx. [completado]

ğŸ—ƒï¸ Base de datos
Si existe una tabla anterior llamada Minijuego, Juego, etc., con estructura obsoleta:

Eliminarla de schema.prisma [completado]

Ejecutar:

bash
Copiar
Editar
ğŸ—ï¸ FASE 2 â€” PreparaciÃ³n de carpetas y base
ğŸ“ Crear nueva estructura
src/app/docs/minijuegos/

PanelMinijuegos.tsx [completado]

SubirRomForm.tsx [completado]

ListaJuegos.tsx [completado]

EmuladorGBA.tsx [completado]

EmuladorNES.tsx [completado]

src/app/api/minijuegos/

upload.ts [completado]

index.ts [completado]

[id].ts [completado]

public/emuladores/

Ejecutar:

bash
Copiar
Editar
mkdir -p public/emuladores
git clone https://github.com/endrift/gbajs.git public/emuladores/gbajs
public/roms/ para almacenar los ROMs subidos.

ğŸ§¬ FASE 3 â€” CreaciÃ³n del nuevo modelo en Prisma

[completado]
ğŸ§© FASE 4 â€” Componente oculto en /docs
En src/app/docs/page.tsx:
Importar y usar el botÃ³n oculto:

tsx
Copiar
Editar
'use client';
import { useState } from 'react';
import PanelMinijuegos from './minijuegos/PanelMinijuegos';

export default function DocumentosPage() {
  const [mostrarJuegos, setMostrarJuegos] = useState(false);

  return (
    <main>
      {/* Resto del contenido de documentos */}
      <button
        className="text-sm text-gray-400 hover:text-white"
        onClick={() => setMostrarJuegos(prev => !prev)}
      >
        ğŸ® Minijuegos (secreto)
      </button>

      {mostrarJuegos && <PanelMinijuegos />}
    </main>
  );
}
[completado]
ğŸ§± FASE 5 â€” Desarrollo del nuevo sistema
1. PanelMinijuegos.tsx
Contenedor general que incluye SubirRomForm y ListaJuegos.

2. SubirRomForm.tsx
Formulario para subir ROMs (.gba, .nes) con campos:

Nombre

Plataforma

Archivo

BotÃ³n â€œSubirâ€

â†’ Llama a /api/minijuegos/upload.

3. ListaJuegos.tsx
Lista de juegos subidos, cada uno con:

Nombre

Plataforma

BotÃ³n â€œJugarâ€

BotÃ³n â€œEliminarâ€

4. EmuladorGBA.tsx
Carga emulador GBA desde iframe apuntando a /emuladores/gbajs/index.html?rom=....

5. EmuladorNES.tsx
Canvas que usa jsnes para renderizar ROM cargado desde /public/roms.

ğŸŒ FASE 6 â€” API funcional
1. /api/minijuegos/upload.ts
Recibe archivo ROM

Guarda en /public/roms/

Inserta registro en base de datos

Requiere usar formidable o next-formidable para multipart.

2. /api/minijuegos/index.ts
GET: Retorna todos los juegos del usuario

3. /api/minijuegos/[id].ts
GET: Info individual

DELETE: Eliminar archivo y registro
[completado]

ğŸ¯ FASE 8 â€” Extras recomendados
âœ… ValidaciÃ³n de archivos (.gba, .nes Ãºnicamente)

âœ… Limitar tamaÃ±o mÃ¡ximo de ROM

ğŸ§  Guardar progreso con localStorage o IndexedDB

ğŸ•¹ï¸ Soporte para teclado + gamepad

ğŸ“¸ Generar portada o thumbnail (a futuro)

ğŸ” Permitir que sÃ³lo el usuario vea sus propios juegos
